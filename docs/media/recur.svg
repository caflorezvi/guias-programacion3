<svg viewBox="0 0 800 510" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .box { fill: #e8e8e8; stroke: #999; stroke-width: 2; }
      .box-base { fill: #d0d0d0; stroke: #999; stroke-width: 2; }
      .text { font-family: Arial, sans-serif; font-size: 16px; fill: #333; }
      .title { font-family: Arial, sans-serif; font-size: 14px; fill: #666; }
      .arrow { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .annotation { font-family: Arial, sans-serif; font-size: 13px; fill: #555; }
      .result-box { fill: #fff9e6; stroke: #333; stroke-width: 2; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333" />
    </marker>
  </defs>

  <!-- Título izquierdo -->
  <text x="20" y="20" class="title">(a) Secuencia de llamadas recursivas.</text>

  <!-- Lado izquierdo - Descenso -->
  <g id="descenso">
    <!-- 5! -->
    <rect x="50" y="40" width="60" height="50" class="box"/>
    <text x="80" y="70" class="text" text-anchor="middle">5!</text>

    <!-- Flecha -->
    <line x1="80" y1="90" x2="80" y2="120" class="arrow"/>

    <!-- 5 * 4! -->
    <rect x="50" y="120" width="80" height="50" class="box"/>
    <text x="90" y="150" class="text" text-anchor="middle">5 * 4!</text>

    <!-- Flecha -->
    <line x1="100" y1="170" x2="100" y2="200" class="arrow"/>

    <!-- 4 * 3! -->
    <rect x="70" y="200" width="80" height="50" class="box"/>
    <text x="110" y="230" class="text" text-anchor="middle">4 * 3!</text>

    <!-- Flecha -->
    <line x1="120" y1="250" x2="120" y2="280" class="arrow"/>

    <!-- 3 * 2! -->
    <rect x="90" y="280" width="80" height="50" class="box"/>
    <text x="130" y="310" class="text" text-anchor="middle">3 * 2!</text>

    <!-- Flecha -->
    <line x1="140" y1="330" x2="140" y2="360" class="arrow"/>

    <!-- 2 * 1! -->
    <rect x="110" y="360" width="80" height="50" class="box"/>
    <text x="150" y="390" class="text" text-anchor="middle">2 * 1!</text>

    <!-- Flecha -->
    <line x1="160" y1="410" x2="160" y2="440" class="arrow"/>

    <!-- 1 -->
    <rect x="130" y="440" width="60" height="50" class="box-base"/>
    <text x="160" y="470" class="text" text-anchor="middle">1</text>
  </g>

  <!-- Título derecho -->
  <text x="380" y="20" class="title">(b) Valores devueltos de cada llamada recursiva.</text>

  <!-- Lado derecho - Ascenso -->
  <g id="ascenso">
    <!-- 1 -->
    <rect x="510" y="440" width="60" height="50" class="box-base"/>
    <text x="540" y="470" class="text" text-anchor="middle">1</text>

    <!-- Flecha y anotación -->
    <line x1="540" y1="440" x2="540" y2="410" class="arrow"/>
    <text x="590" y="425" class="annotation">se devuelve 1</text>

    <!-- 2 * 1! -->
    <rect x="490" y="360" width="80" height="50" class="box"/>
    <text x="530" y="390" class="text" text-anchor="middle">2 * 1!</text>

    <!-- Flecha y anotación -->
    <line x1="520" y1="360" x2="520" y2="330" class="arrow"/>
    <text x="580" y="345" class="annotation">se devuelve 2! = 2 * 1 = 2</text>

    <!-- 3 * 2! -->
    <rect x="470" y="280" width="80" height="50" class="box"/>
    <text x="510" y="310" class="text" text-anchor="middle">3 * 2!</text>

    <!-- Flecha y anotación -->
    <line x1="500" y1="280" x2="500" y2="250" class="arrow"/>
    <text x="560" y="265" class="annotation">se devuelve 3! = 3 * 2 = 6</text>

    <!-- 4 * 3! -->
    <rect x="450" y="200" width="80" height="50" class="box"/>
    <text x="490" y="230" class="text" text-anchor="middle">4 * 3!</text>

    <!-- Flecha y anotación -->
    <line x1="480" y1="200" x2="480" y2="170" class="arrow"/>
    <text x="540" y="185" class="annotation">se devuelve 4! = 4 * 6 = 24</text>

    <!-- 5 * 4! -->
    <rect x="430" y="120" width="80" height="50" class="box"/>
    <text x="470" y="150" class="text" text-anchor="middle">5 * 4!</text>

    <!-- Flecha y anotación -->
    <line x1="460" y1="120" x2="460" y2="90" class="arrow"/>
    <text x="520" y="105" class="annotation">se devuelve 5! = 5 * 24 = 120</text>

    <!-- 5! -->
    <rect x="430" y="40" width="60" height="50" class="box"/>
    <text x="460" y="70" class="text" text-anchor="middle">5!</text>
  </g>
</svg>
