```
Universidad del Quindío
Programa de Ingeniería de Sistemas y Computación
Programación III - Introducción a Elixir
Docente: Carlos Andrés Florez V.
```

# Elixir

Elixir es un lenguaje de programación funcional, concurrente y de tipado dinámico diseñado para construir aplicaciones escalables y mantenibles. Fue creado en 2011 por el programador brasileño **José Valim**, un reconocido desarrollador de la comunidad de Ruby on Rails.

## La filosofía de Elixir: Lo mejor de dos mundos

La motivación de Valim era clara: quería un lenguaje que ofreciera la alta productividad y la sintaxis elegante de Ruby, pero que al mismo tiempo tuviera una solución robusta y nativa para la alta concurrencia y la tolerancia a fallos, algo que era un desafío en el ecosistema de Rails.

La solución no fue crear todo desde cero, sino construir sobre una base sólida y probada durante décadas: la **plataforma de Erlang**. Así, la filosofía de Elixir se puede resumir en: *"La productividad y elegancia de Ruby sobre la potencia y robustez de Erlang"*.

## El superpoder secreto de Elixir: El ecosistema Erlang (BEAM y OTP)

Para entender Elixir, es fundamental comprender que su verdadero poder no reside solo en su sintaxis, sino en la tecnología sobre la que se ejecuta.

### 1. La máquina virtual BEAM

Elixir no se ejecuta directamente sobre el sistema operativo. Su código se compila a bytecode que es ejecutado por la **máquina virtual de Erlang, conocida como BEAM** (Bogdan/Björn's Erlang Abstract Machine).

La BEAM es para Elixir lo que la JVM (Java Virtual Machine) es para Java o Scala: un entorno de ejecución de alto rendimiento especializado. Sin embargo, la BEAM fue diseñada desde su origen con un propósito muy específico: soportar sistemas de telecomunicaciones que necesitaban estar activos 24/7 sin fallos.

### 2. La plataforma OTP (Open Telecom Platform)

OTP no es solo una librería, sino un conjunto de principios, abstracciones y bibliotecas de Erlang para construir sistemas "vivos", concurrentes y tolerantes a fallos. Es el "manual de instrucciones" que Erlang y Elixir usan para la concurrencia.

La filosofía central de OTP es **"dejarlo fallar" (let it crash)**. En lugar de llenar el código con lógica defensiva para anticipar cada posible error, OTP promueve la idea de que los fallos son inevitables. La estrategia es:
1.  Dividir el sistema en pequeños procesos supervisados.
2.  Si un proceso falla, se deja que "muera".
3.  Un proceso supervisor, cuyo único trabajo es vigilar, detecta el fallo y reinicia el proceso fallido a un estado inicial conocido y seguro.

Esto permite construir sistemas que se "auto-reparan", una característica extremadamente poderosa para aplicaciones que requieren alta disponibilidad.

## Características clave de Elixir

Gracias a su base en Erlang/OTP, Elixir ofrece un conjunto de características únicas:

-   **Funcional**: Promueve funciones puras, inmutabilidad y un estilo declarativo.
-   **Concurrente**: La concurrencia no es una característica añadida, sino una parte fundamental del lenguaje. Crear un proceso para realizar una tarea en paralelo es una operación trivial y común, lo que facilita enormemente el desarrollo de aplicaciones que hacen muchas cosas a la vez.
-   **Tolerante a Fallos**: Siguiendo la filosofía de OTP, Elixir promueve sistemas diseñados para fallar de forma controlada. Los árboles de supervisión permiten que los errores se contengan y se recuperen automáticamente, manteniendo la aplicación en ejecución incluso ante fallos inesperados.
-   **Escalable**:
    -   **Verticalmente**: La BEAM está diseñada para utilizar todos los núcleos de CPU disponibles en una máquina de forma eficiente.
    -   **Horizontalmente**: Elixir tiene mecanismos nativos para distribuir los procesos a través de múltiples máquinas en una red, permitiendo que se comuniquen como si estuvieran en la misma máquina.
-   **Interoperabilidad con Erlang**: Cualquier librería o framework de Erlang puede ser utilizado directamente desde Elixir sin ninguna penalización de rendimiento. Esto da acceso a un ecosistema maduro y robusto de herramientas probadas en batalla.

## Usos comunes:

Aunque Elixir puede usarse para muchos tipos de aplicaciones, es especialmente popular en:

- Desarrollo de aplicaciones web (con el framework Phoenix).
- Sistemas de mensajería y comunicación en tiempo real.
- Servicios backend de alta concurrencia y baja latencia.

## Elixir y Erlang a nivel empresarial

Según la [página oficial de elixir](https://elixir-lang.org/cases.html) y [un artículo de Netguru](https://www.netguru.com/blog/10-companies-use-elixir) estos son algunos ejemplos de su uso a nivel empresarial:
- **Discord:** plataforma de comunicación en tiempo real.
- **Heroku:** plataforma como servicio (PaaS) en la nube.
- **PepsiCo:** empresa multinacional de alimentos y bebidas.
- **Whatsapp:** aplicación de mensajería instantánea.
- **Pinterest:** red social visual como imágenes y videos.
- **Bleacher Report:** plataforma de noticias deportivas.
- **Financial Times:** periódico internacional.

---

## Ambiente de trabajo con Elixir

Elixir puede ser instalado en diferentes arquitecturas y sistemas operativos: GNU/Linux (diferentes distribuciones), MacOS, Windows; incluso existen aplicaciones para dispositivos móviles que permiten trabajar con Elixir.


### 1. Instalación Elixir y Erlang

Ingrese a [https://elixir-lang.org/install.html](https://elixir-lang.org/install.html) e instale Erlang y Elixir en su sistema. Tenga en cuenta que Elixir depende de Erlang, por lo que primero debe instalar Erlang y luego Elixir.

Para GNU/Linux y MacOS, Elixir se instala junto con Erlang automáticamente, pero en Windows debe instalar Erlang por aparte, puede descargar el instalador desde: [https://www.erlang.org/downloads.html](https://www.erlang.org/downloads.html).

Para verificar que todo se haya instalado correctamente, abra una terminal (CMD en windows) y ejecute el siguiente comando:

```bash
elixir -v
```

Esto debería mostrar la versión de Elixir instalada. La versión al momento de escribir este documento es la `1.19.5`.

> **⚠️ Importante:** En Windows, puede ser necesario reiniciar el computador después de la instalación para que las variables de entorno se actualicen correctamente. Si después de reiniciar la terminal, el comando `elixir -v` no funciona o `iex` no se reconoce, asegúrese de que las rutas de Erlang y Elixir estén correctamente configuradas en las variables de entorno del sistema.

### 2. Primer programa en Elixir

El primer programa que se suele escribir en cualquier lenguaje de programación es "¡Hola, mundo!". En Elixir, puede hacerlo de dos maneras: usando el intérprete interactivo (IEx) o creando un archivo `.exs` y ejecutándolo.

El **intérprete interactivo (IEx)** es una herramienta que permite escribir y ejecutar código Elixir línea por línea, lo que facilita la experimentación y el aprendizaje del lenguaje. No está diseñado para ejecutar programas completos, sino para probar fragmentos de código y explorar las características del lenguaje de manera interactiva.

En la terminal, escriba el siguiente comando para iniciar el intérprete interactivo de Elixir (IEx):

```bash
iex
```

Y escriba lo siguiente:

```elixir
IO.puts("¡Hola, mundo!")
```

Al dar **Enter**, debería ver lo siguiente en la consola.

```bash
¡Hola, mundo!
:ok
```

`IO` es un módulo que proporciona funciones para realizar operaciones de entrada y salida. La función `puts` se utiliza para imprimir texto en la consola. El resultado `:ok` indica que la operación se realizó correctamente.

>**⚠️ Importante:** Para salir de `iex`, puede presionar `Ctrl + C` dos veces. Tambien puede resultar útil acceder al menú de ayuda escribiendo `h()` y luego presionando **Enter**, en este menú de ayuda encontrará información sobre las funciones disponibles y cómo utilizarlas.

---

## Trabajar desde Visual Studio Code (VS Code)

Para programar en Elixir, es recomendable usar un editor de código fuente que facilite la escritura y ejecución del código. Uno de los editores más populares y ampliamente utilizados es **Visual Studio Code (VS Code)**.

### 1. Instalación de Git

Instale Git desde [https://git-scm.com/downloads](https://git-scm.com/downloads) ya que será necesario para el control de versiones. Es importante que el código fuente de sus proyectos esté bajo control de versiones.

### 2. Instalación de Visual Studio Code

Ingrese a [https://code.visualstudio.com/Download](https://code.visualstudio.com/Download) e instale Visual Studio Code. Visual Studio Code es un editor de código ampliamente utilizado en la industria del software, con soporte para múltiples lenguajes de programación, incluyendo Elixir. 

Una de sus características más destacadas es su extensibilidad a través de una amplia variedad de extensiones que mejoran la funcionalidad del editor.

### 3. Instalar extensiones en Visual Studio Code

Ingrese a Visual Studio Code (VS Code) instale las siguientes Extensiones:
   - [ElixirLS: Elixir support and debugger for VS Code](https://marketplace.visualstudio.com/items?itemName=JakeBecker.elixir-ls).
   - [Code Runner](https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner) (opcional).

### 4. Crear y ejecutar un programa en Elixir desde Visual Studio Code

Cree un archivo llamado `saludo.exs` y ábralo en Visual Studio Code. Después, escriba el siguiente código en el archivo:

```elixir
IO.puts("¡Hola, mundo!")
```
Ejecute el programa usando el siguiente comando en la terminal (asegúrese de ejecutarlo en la carpeta donde se encuentra el archivo):

```bash
elixir saludo.exs
```

Al ejecutar el programa, debería ver lo siguiente en la consola:

```bash
¡Hola, mundo!
```

> **⚠️ Importante:** También puede ejecutar el programa directamente desde Visual Studio Code utilizando la extensión **Code Runner**. Para ello, haga clic en el botón de ejecución (▶️) que aparece en la esquina superior derecha del editor. Esto ejecutará el código y mostrará la salida en la ventana de salida integrada de Visual Studio Code.

---

## Para la próxima clase
- Investigar acerca de las características principales de Elixir.
- Por qué Elixir es considerado un lenguaje funcional y concurrente.
- Instalar Elixir y Erlang en su máquina local.